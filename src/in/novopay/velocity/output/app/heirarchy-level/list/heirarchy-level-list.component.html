<section class="widget" widget>
    <header>
        <h4><span class="fw-semi-bold">{{'heirarchy-level-list-page-header'} | translate}</span></h4>
        <div class="widget-controls">
            <button type="button" class="btn btn-gray mb-xs list-view-search-filter"
                    (click)="toggleShowSearchBlocks()"
                    title="{{'filter-button-tooltip' | translate}}">
                <i class="fa fa-search"></i></button>
            <button *ngIf="permissionForCreate" class="btn btn-primary width-100 mb-xs" role="button" [routerLink]="['../create']">
                {{'list-btn-add' | translate}}
            </button>
        </div>
    </header>
    <div class="widget-body">
        <legend></legend>
        <div class="mt">
            <table class="table table-striped table-hover" [ngBusy]="busy" [mfData]="masterData" #mf="mfDataTable"
                   [mfRowsOnPage]="tableItemsPerPage">
                <thead>
                <tr>
                                                                <th *ngIf="showSearchBlocks">
                                                    <div class="list-view-search-div">
                                <div>
                                    <div class="input-group input-group-sm input-group-transparent input-group-rounded">
                                            <span *ngIf="!searchModels[0].isSelected" class="input-group-addon">
                                                <i class="fa fa-search"></i>
                                            </span>
                                        <span (click)="cancelSearchAttribute(0)" *ngIf="searchModels[0].isSelected"
                                              class="input-group-addon">
                                                <i class="fa fa-times"></i>
                                            </span>
                                        <input (keypress)="changeSearchModel($event.keyCode,0)"
                                               [(ngModel)]="searchModels[0].value"
                                               (ngModelChange)="onSearchFieldChange(0)"
                                               maxlength="16"
                                               class="form-control form-control-sm"
                                               type="text" placeholder="{{eg. Country}}">
                                    </div>
                                </div>
                            </div>
                                                </th>
                                                                    <th *ngIf="showSearchBlocks">
                                                    <div class="list-view-search-div">
                                <div>
                                    <div class="input-group input-group-sm input-group-transparent input-group-rounded">
                                            <span *ngIf="!searchModels[1].isSelected" class="input-group-addon">
                                                <i class="fa fa-search"></i>
                                            </span>
                                        <span (click)="cancelSearchAttribute(1)" *ngIf="searchModels[1].isSelected"
                                              class="input-group-addon">
                                                <i class="fa fa-times"></i>
                                            </span>
                                        <input (keypress)="changeSearchModel($event.keyCode,1)"
                                               [(ngModel)]="searchModels[1].value"
                                               (ngModelChange)="onSearchFieldChange(1)"
                                               maxlength="16"
                                               class="form-control form-control-sm"
                                               type="text" placeholder="{{eg. GIS10}}">
                                    </div>
                                </div>
                            </div>
                                                </th>
                                                                    <th *ngIf="showSearchBlocks">
                                                    <div class="list-view-search-div">
                                <div>
                                    <div class="input-group input-group-sm input-group-transparent input-group-rounded">
                                            <span *ngIf="!searchModels[2].isSelected" class="input-group-addon">
                                                <i class="fa fa-search"></i>
                                            </span>
                                        <span (click)="cancelSearchAttribute(2)" *ngIf="searchModels[2].isSelected"
                                              class="input-group-addon">
                                                <i class="fa fa-times"></i>
                                            </span>
                                        <input (keypress)="changeSearchModel($event.keyCode,2)"
                                               [(ngModel)]="searchModels[2].value"
                                               (ngModelChange)="onSearchFieldChange(2)"
                                               maxlength="16"
                                               class="form-control form-control-sm"
                                               type="text" placeholder="{{eg. Country}}">
                                    </div>
                                </div>
                            </div>
                                                </th>
                                                                    <th *ngIf="showSearchBlocks">
                                                    <div class="list-view-search-div">
                                <div>
                                    <div class="input-group input-group-sm input-group-transparent input-group-rounded">
                                            <span *ngIf="!searchModels[3].isSelected" class="input-group-addon">
                                                <i class="fa fa-search"></i>
                                            </span>
                                        <span (click)="cancelSearchAttribute(3)" *ngIf="searchModels[3].isSelected"
                                              class="input-group-addon">
                                                <i class="fa fa-times"></i>
                                            </span>
                                        <input (keypress)="changeSearchModel($event.keyCode,3)"
                                               [(ngModel)]="searchModels[3].value"
                                               (ngModelChange)="onSearchFieldChange(3)"
                                               maxlength="16"
                                               class="form-control form-control-sm"
                                               type="text" placeholder="{{eg. Business}}">
                                    </div>
                                </div>
                            </div>
                                                </th>
                                                                    <th *ngIf="showSearchBlocks">
                                                    <div class="list-view-search-div">
                                <div>
                                    <div class="input-group input-group-sm input-group-transparent input-group-rounded">
                                            <span *ngIf="!searchModels[4].isSelected" class="input-group-addon">
                                                <i class="fa fa-search"></i>
                                            </span>
                                        <span (click)="cancelSearchAttribute(4)" *ngIf="searchModels[4].isSelected"
                                              class="input-group-addon">
                                                <i class="fa fa-times"></i>
                                            </span>
                                        <input (keypress)="changeSearchModel($event.keyCode,4)"
                                               [(ngModel)]="searchModels[4].value"
                                               (ngModelChange)="onSearchFieldChange(4)"
                                               maxlength="16"
                                               class="form-control form-control-sm"
                                               type="text" placeholder="{{eg. Administrative}}">
                                    </div>
                                </div>
                            </div>
                                                </th>
                                            
                    <th *ngIf="showSearchBlocks">
                        <button [ngClass]="{'disabled': isSearchClear}" type="button"
                                class="btn btn-gray mb-xs list-view-search-filter"
                                (click)="clearAllSearch()"
                                title="{{'block-button-tooltip' | translate}}">
                            {{'list-btn-clear-search' | translate}}
                        </button>
                    </th>
                </tr>
                <tr>
                                                    <th *ngIf="showSearchBlocks">
                                            <mfDefaultSorter (click)="sortFormData(0)" by="level_name1">{{'heirarchy-level-list-header-level_name' | translate}}</mfDefaultSorter>
                    </th>
                                                        <th *ngIf="showSearchBlocks">
                                            <mfDefaultSorter (click)="sortFormData(1)" by="level_code1">{{'heirarchy-level-list-header-level_code' | translate}}</mfDefaultSorter>
                    </th>
                                                        <th *ngIf="showSearchBlocks">
                                            <mfDefaultSorter (click)="sortFormData(2)" by="description1">{{'heirarchy-level-list-header-description' | translate}}</mfDefaultSorter>
                    </th>
                                                        <th *ngIf="showSearchBlocks">
                                            <mfDefaultSorter (click)="sortFormData(3)" by="department_name1">{{'heirarchy-level-list-header-department_name' | translate}}</mfDefaultSorter>
                    </th>
                                                        <th *ngIf="showSearchBlocks">
                                            <mfDefaultSorter (click)="sortFormData(4)" by="heirarchy_level_type1">{{'heirarchy-level-list-header-heirarchy_level_type' | translate}}</mfDefaultSorter>
                    </th>
                                                            <th class="no-sort">
                        {{'heirarchy-level-list-header-actions' | translate}}
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr class="table-row" *ngFor="let item of mf.data" (click)="viewFormData(item.level_code)">
                                       <td class="wrap-long-text" title="{{item.level_name}}"><span class="fw-semi-bold">{{item.level_name}}</span></td>
                                       <td class="wrap-long-text" title="{{item.level_code}}"><span class="fw-semi-bold">{{item.level_code}}</span></td>
                                       <td class="wrap-long-text" title="{{item.description}}"><span class="fw-semi-bold">{{item.description}}</span></td>
                                       <td class="wrap-long-text" title="{{item.department_name}}"><span class="fw-semi-bold">{{item.department_name}}</span></td>
                                       <td class="wrap-long-text" title="{{item.heirarchy_level_type}}"><span class="fw-semi-bold">{{item.heirarchy_level_type}}</span></td>
                                    <td>
                        <div class="input-group-btn action-button-group">
                            <button *ngIf="permissionForEdit" type="button" class="btn btn-gray disabled"
                                    title="{{'edit-button-tooltip' | translate}}">
                                <i class="fa fa-pencil"></i></button>
                            <button type="button" class="btn btn-gray disabled"
                                    title="{{'block-button-tooltip' | translate}}">
                                <i class="fa fa-ban"></i></button>
                        </div>
                    </td>
                </tr>
                <tr *ngIf="mf.data.length === 0">
                    <td colspan="100">
                        {{'form-no-records-msg' | translate}}
                    </td>
                </tr>
                </tbody>
                <tfoot>
                <tr>
                    <td colspan="12">
                        <pagination class="pagination-sm"
                                    [(ngModel)]="pageNumber"
                                    [totalItems]="totalItems"
                                    [itemsPerPage]="tableItemsPerPage"
                                    [maxSize]="tableMaxSize"
                                    [boundaryLinks]="true"
                                    [rotate]="false"
                                    (pageChanged)="onChangeTablePagination(config, $event)"
                                    (numPages)="numPages = $event">
                        </pagination>
                        <ul class="pagination pull-right">
                            <li *ngFor="let block of paginationBlocks; let i = index" [id]="'pagination-list-item-' + i"
                                (click)="paginationBlockClick(i)">
                                <a style="cursor: pointer">{{block}}</a>
                            </li>
                        </ul>
                        <pre class="card card-block card-header">Page: {{pageNumber}} / {{numPages}}</pre>
                    </td>
                </tr>
                </tfoot>
            </table>
        </div>
    </div>
</section>